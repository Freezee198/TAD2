schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py data
    deps:
    - path: data
      md5: 7d2a3903cb9a4faff78ac3823389d8ed.dir
      size: 261326366
      nfiles: 10042
    - path: src/prepare.py
      md5: 0777a2f9dbccb5976e7b05f8ebad9b8f
      size: 2567
    outs:
    - path: prepared
      md5: ff6ad706a14b8d829c0e2fc64cf0f39a.dir
      size: 1800793
      nfiles: 7
  train:
    cmd: python src/train.py prepared new_experimental_model.pth
    deps:
    - path: prepared
      md5: ff6ad706a14b8d829c0e2fc64cf0f39a.dir
      size: 1800793
      nfiles: 7
    - path: src/train.py
      md5: d622439c400f0695bc612057d8e2c77c
      size: 5012
    params:
      params.yaml:
        train.epoch: 1
        train.model: efficientnet-b4
    outs:
    - path: models/new_experimental_model.pth
      md5: 018aa0eb21633762257f02fc701bd262
      size: 71476349
  test:
    cmd: python src/test.py prepared new_experimental_model.pth
    deps:
    - path: models/new_experimental_model.pth
      md5: 018aa0eb21633762257f02fc701bd262
      size: 71476349
    - path: prepared
      md5: ff6ad706a14b8d829c0e2fc64cf0f39a.dir
      size: 1800793
      nfiles: 7
    - path: src/test.py
      md5: 006c44f96da5701d4455ed5196e5c7e8
      size: 2499
    params:
      params.yaml:
        test.model: efficientnet-b4
    outs:
    - path: scores.json
      md5: abd738776333f60cf73170da8115cfb1
      size: 5
