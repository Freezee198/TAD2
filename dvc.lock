schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py data
    deps:
    - path: data
      md5: 4373f2dd2fbf4a57f115c713222c4843.dir
      size: 303733898
      nfiles: 13792
    - path: src/prepare.py
      md5: 0777a2f9dbccb5976e7b05f8ebad9b8f
      size: 2567
    outs:
    - path: prepared
      md5: 9d565a49d5ccc882fef532fbdf84e3b8.dir
      size: 6438433
      nfiles: 7
  train:
    cmd: python src/train.py prepared new_experimental_model.pth False
    deps:
    - path: prepared
      md5: 9d565a49d5ccc882fef532fbdf84e3b8.dir
      size: 6438433
      nfiles: 7
    - path: src/train.py
      md5: b7ab2e8c771e6830cf6a38d90b845a2e
      size: 4934
    params:
      params.yaml:
        train.epoch: 20
        train.model: efficientnet-b0
    outs:
    - path: models/new_experimental_model.pth
      md5: 31eca13e36115eb0632f9028293c5777
      size: 16705393
  test:
    cmd: python src/test.py prepared new_experimental_model.pth
    deps:
    - path: models/new_experimental_model.pth
      md5: 31eca13e36115eb0632f9028293c5777
      size: 16705393
    - path: prepared
      md5: 9d565a49d5ccc882fef532fbdf84e3b8.dir
      size: 6438433
      nfiles: 7
    - path: src/test.py
      md5: a260e88926eaeab26663a39c02b4983b
      size: 2429
    params:
      params.yaml:
        test.model: efficientnet-b0
    outs:
    - path: scores.json
      md5: 892def34d7fbc26143a5b9317773193f
      size: 32
