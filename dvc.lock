schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py data
    deps:
    - path: data
      md5: 7d2a3903cb9a4faff78ac3823389d8ed.dir
      size: 261326366
      nfiles: 10042
    - path: src/prepare.py
      md5: 0777a2f9dbccb5976e7b05f8ebad9b8f
      size: 2567
    outs:
    - path: prepared
      md5: ff6ad706a14b8d829c0e2fc64cf0f39a.dir
      size: 1800793
      nfiles: 7
  train:
    cmd: python src/train.py prepared new_experimental_model.pth False
    deps:
    - path: prepared
      md5: ff6ad706a14b8d829c0e2fc64cf0f39a.dir
      size: 1800793
      nfiles: 7
    - path: src/train.py
      md5: b7ab2e8c771e6830cf6a38d90b845a2e
      size: 4934
    params:
      params.yaml:
        train.epoch: 20
        train.model: efficientnet-b4
    outs:
    - path: models/new_experimental_model.pth
      md5: 1671594638d8da3c5d0dc84f304e8689
      size: 71476349
  test:
    cmd: python src/test.py prepared new_experimental_model.pth
    deps:
    - path: models/new_experimental_model.pth
      md5: 1671594638d8da3c5d0dc84f304e8689
      size: 71476349
    - path: prepared
      md5: ff6ad706a14b8d829c0e2fc64cf0f39a.dir
      size: 1800793
      nfiles: 7
    - path: src/test.py
      md5: a260e88926eaeab26663a39c02b4983b
      size: 2429
    params:
      params.yaml:
        test.model: efficientnet-b4
    outs:
    - path: scores.json
      md5: d7df52f57cc537db98469f56b1388cbb
      size: 32
